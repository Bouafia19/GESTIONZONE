<script>
var eulma = $.getJSON('../zone_ind_6.json');

eulma.then(function(data) {
var mallinesses = L.geoJson(data);
var mvide = L.geoJson(data, {
filter: function(feature, layer) {
return feature.properties._R_socia_français == null;
},
style: style,
onEachFeature: popUp

});

var mnovide = L.geoJson(data, {
filter: function(feature, layer) {
return feature.properties._R_socia_français != null;
},
style: style,
onEachFeature: popUp
});
// mvide.addTo(map)
// mnovide.addTo(map)
$("#mnovide").click(function() {
// map.removeLayer(geojsonda4)
mvide.setStyle({
fillColor: 'red',
weight: 2,
opacity: 1,
color: 'white',
dashArray: '3',
fillOpacity: 0.7});

// map.removeLayer(mvide)
mnovide.setStyle({
fillColor: 'blue',
weight: 2,
opacity: 1,
color: 'white',
dashArray: '3',
fillOpacity: 0.7});
map.addLayer(mnovide)
});
$("#mvide").click(function() {
// map.removeLayer(geojsonda4)
mnovide.setStyle({
fillColor: 'blue',
weight: 2,
opacity: 1,
color: 'white',
dashArray: '3',
fillOpacity: 0.7});

//map.removeLayer(mnovide)
mvide.setStyle({
fillColor: 'red',
weight: 2,
opacity: 1,
color: 'white',
dashArray: '3',
fillOpacity: 0.7});
map.addLayer(mvide)
});
$("#mall").click(function() {
//map.addLayer(mvide)
//map.addLayer(mnovide)
// map.addLayer(geojsonda4)
map.removeLayer(mvide)
map.removeLayer(mnovide)

geojsonda4.setStyle({
fillColor: '#3f0',
weight: 2,
opacity: 1,
color: 'white',
dashArray: '3',
fillOpacity: 0.7});
map.addLayer(geojsonda4)
});



$("#mlibre").click(function() {
map.removeLayer(mvide)
map.removeLayer(mnovide)
map.removeLayer(geojsonda4)

});



});


function processDatam() {
eulma.then(function(data) {

var name_element = document.getElementById('txt_montm');
var name = name_element.value;

var fil = L.geoJson(data, {
filter: function(feature, layer) {
return feature.properties._Mont_Investis_Millions_DA > name;
},

style: style,
onEachFeature: popUp
});
fil.setStyle({
fillColor: 'green',
weight: 2,
opacity: 1,
color: 'white',
dashArray: '3',
fillOpacity: 0.7});
map.addLayer(fil)
});
}


function processm() {
eulma.then(function(data) {

var name_element = document.getElementById('txt_sum');
var name = name_element.value;

var fil = L.geoJson(data, {
filter: function(feature, layer) {
return feature.properties._Su_octroyee > name;
},

style: style,
onEachFeature: popUp
});
fil.setStyle({
fillColor: 'green',
weight: 2,
opacity: 1,
color: 'white',
dashArray: '3',
fillOpacity: 0.7});
map.addLayer(fil)
});

}




function monFunctionm(e) {
eulma.then(function(data) {
var mallinesses = L.geoJson(data);
var mvide = L.geoJson(data, {
filter: function(feature, layer) {
return feature.properties._Sect_Activite == "INDUSTRIE";
},
style: style,
onEachFeature: popUp

});
var name_element = document.getElementById('txt_montm');
var name = name_element.value;

var fil = L.geoJson(data, {
filter: function(feature, layer) {
return feature.properties._Mont_Investis_Millions_DA > name;
},
style: style,
onEachFeature: popUp
});

var mnovide = L.geoJson(data, {
filter: function(feature, layer) {
return feature.properties._Sect_Activite == "SERVICES";
},
style: style,
onEachFeature: popUp
});
// mvide.addTo(map)
// mnovide.addTo(map)
if(e.target.value == "INDUSTRIE"){
// map.removeLayer(geojsonda4)
mnovide.setStyle({
fillColor: 'blue',
weight: 2,
opacity: 1,
color: 'white',
dashArray: '3',
fillOpacity: 0.7});
//map.removeLayer(mnovide)
mvide.setStyle({
fillColor: 'red',
weight: 2,
opacity: 1,
color: 'white',
dashArray: '3',
fillOpacity: 0.7});
map.addLayer(mvide)
}else{
mvide.setStyle({
fillColor: 'red',
weight: 2,
opacity: 1,
color: 'white',
dashArray: '3',
fillOpacity: 0.7});

// map.removeLayer(mvide)
mnovide.setStyle({
fillColor: 'blue',
weight: 2,
opacity: 1,
color: 'white',
dashArray: '3',
fillOpacity: 0.7});
map.addLayer(mnovide)
}
});


}
</script>